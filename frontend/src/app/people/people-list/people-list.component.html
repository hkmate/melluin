<section>
    <h1>{{ 'Titles.PeopleList' | translate }}</h1>

    <app-lazy-input [label]="'Search' | translate" (changed)="filterChanged($event)"></app-lazy-input>

    <table mat-table recycleRows [dataSource]="tableDataSource">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>{{ 'PeopleListPage.ListHeader.Name' | translate }}</th>
            <td mat-cell *matCellDef="let person">{{ person | personName }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>{{ 'PeopleListPage.ListHeader.Email' | translate }}</th>
            <td mat-cell *matCellDef="let person">
                <span [ngClass]="{'no-data': !person.email}">{{ person.email | optional }}</span>
            </td>
        </ng-container>

        <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef>{{ 'PeopleListPage.ListHeader.Phone' | translate }}</th>
            <td mat-cell *matCellDef="let person">
                <span [ngClass]="{'no-data': !person.phone}">{{ person.phone | optional }}</span>
            </td>
        </ng-container>

        <ng-container matColumnDef="options">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let person"></td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns;"></tr>
    </table>

    <mat-paginator [length]="countOfAll"
                   [pageIndex]="page"
                   [pageSize]="size"
                   [pageSizeOptions]="sizeOptions"
                   (page)="paginateHappened($event)">
    </mat-paginator>
</section>


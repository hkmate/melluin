<h1>{{ 'PersonPage.User.EditData' | translate }}</h1>

<form [formGroup]="form">

    <div>
        <app-trimmed-text-input formControlName="userName"
                                [placeholder]="'PersonPage.User.Form.UserNamePlaceholder' | translate"
                                [label]="'PersonPage.User.Form.UserName'| translate">
        </app-trimmed-text-input>
    </div>

    <div>
        <app-trimmed-text-input formControlName="password"
                                [placeholder]="'PersonPage.User.Form.PasswordPlaceholder' | translate"
                                [label]="'PersonPage.User.Form.Password'| translate">
        </app-trimmed-text-input>
    </div>

    <div>
        <mat-form-field>
            <mat-label>{{ 'PersonPage.User.Form.Roles' | translate }}</mat-label>
            <mat-select formControlName="roleIds" multiple>
                @for (role of roles; track role) {
                    <mat-option [value]="role.name" [disabled]="!roleOptions.includes(role.type)">
                        {{ role.name }}
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>
    </div>

    <div>
        <mat-form-field>
            <mat-label>{{ 'PersonPage.User.Form.Permissions' | translate }}</mat-label>
            <mat-select formControlName="customPermissions" multiple>
                @for (permission of permissions; track permission) {
                    <mat-option [value]="permission">{{ permission }}</mat-option>
                }
            </mat-select>
        </mat-form-field>
    </div>

    <div class="button-row">
        <button mat-flat-button
                color="accent"
                (click)="onSubmit()"
                type="button">
            {{ 'SaveButton' | translate }}
        </button>
        <button mat-stroked-button
                color="primary"
                type="button"
                (click)="cancelEditing()">
            {{ 'CancelButton' | translate }}
        </button>
    </div>

</form>

<h1>
    @if (department()) {
        {{ 'DepartmentPage.EditData' | translate }}
    } @else {
        {{ 'DepartmentPage.Add' | translate }}
    }
</h1>

<form [formGroup]="form()">

    <div>
        <app-trimmed-text-input
                [label]=" 'DepartmentPage.Form.Name' | translate"
                [placeholder]="'DepartmentPage.Form.NamePlaceholder' | translate"
                formControlName="name"/>
    </div>

    <div>
        <app-trimmed-text-input
                [label]=" 'DepartmentPage.Form.Address' | translate"
                [placeholder]="'DepartmentPage.Form.AddressPlaceholder' | translate"
                formControlName="address"/>
    </div>

    <div>
        <mat-form-field>
            <mat-label>{{ 'DepartmentPage.Form.City' | translate }}</mat-label>
            <mat-select formControlName="city">
                @for (city of cityOptions; track city) {
                    <mat-option [value]="city">{{ 'DepartmentCity.' + city | translate }}</mat-option>
                }
            </mat-select>
        </mat-form-field>
    </div>

    <div>
        <mat-form-field>
            <mat-label>{{ 'DepartmentPage.Form.ValidFrom' | translate }}</mat-label>
            <input matInput
                   [matDatepicker]="validFromPicker"
                   formControlName="validFrom">
            <mat-datepicker-toggle matIconSuffix [for]="validFromPicker"/>
            <mat-datepicker #validFromPicker/>
        </mat-form-field>
    </div>

    <div>
        <mat-form-field>
            <mat-label>{{ 'DepartmentPage.Form.ValidTo' | translate }}</mat-label>
            <input matInput
                   [matDatepicker]="validToPicker"
                   formControlName="validTo">
            <mat-datepicker-toggle matIconSuffix [for]="validToPicker"/>
            <mat-datepicker #validToPicker/>
        </mat-form-field>
    </div>

    <div>
        <mat-form-field>
            <mat-label>{{ 'DepartmentPage.Form.DiseasesInfo' | translate }}</mat-label>
            <textarea matInput
                      [placeholder]="'DepartmentPage.Form.DiseasesInfoPlaceholder' | translate"
                      formControlName="diseasesInfo">
            </textarea>
        </mat-form-field>
    </div>

    <div>
        <mat-form-field>
            <mat-label>{{ 'DepartmentPage.Form.Note' | translate }}</mat-label>
            <textarea matInput
                      [placeholder]="'DepartmentPage.Form.NotePlaceholder' | translate"
                      formControlName="note">
            </textarea>
        </mat-form-field>
    </div>

    <div class="button-row">
        <button mat-flat-button
                color="accent"
                (click)="onSubmit()"
                type="button">
            {{ 'SaveButton' | translate }}
        </button>
        <button mat-stroked-button
                color="primary"
                type="button"
                (click)="cancelEditing()">
            {{ 'CancelButton' | translate }}
        </button>
    </div>
</form>
